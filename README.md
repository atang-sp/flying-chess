# 🎲 惩罚飞行棋（Ludo Punishment Game）

一个基于 **Vue 3 + TypeScript** 的创新飞行棋游戏，支持自定义惩罚机制、机关陷阱、详细统计和多端适配。适合聚会、娱乐和“自律”场景。

---

## ✨ 主要特性

- **自定义惩罚系统**：支持多种工具、身体部位、受罚姿势的自由组合，自动生成惩罚方案。
- **机关陷阱**：棋盘可配置机关格，触发特殊事件或惩罚。
- **3D 骰子动画**：真实 3D 效果，动画可自定义。
- **详细统计**：本地/云端统计游玩次数、会话、胜率等，支持 Supabase 云同步。
- **多端适配**：响应式设计，适配桌面和移动端。
- **版本号与构建时间显示**：右上角实时显示版本号，支持 Git Tag 自动注入。
- **新手引导**：内置可重置的新手引导，帮助快速上手。

---

## 🏁 游戏玩法简介

1. **玩家设置**：支持 1-x 名玩家，输入昵称后开始游戏。
2. **掷骰子**：点击骰子进行移动，动画真实。
3. **格子类型**：
   - ⚡ 惩罚格：触发自定义惩罚（工具/部位/姿势/次数等）。
   - 💀 机关格：触发特殊事件或额外惩罚。
   - 🎁 奖励格：前进步数或获得奖励。
   - ⬅️ 后退格、🔄 回到起点、😴 休息格等。
4. **惩罚确认与统计**：每局开始前可确认/调整惩罚组合，自动统计分布。
5. **胜利奖励**：第一个到达终点的玩家可对其他玩家进行奖励惩罚。

---

## ⚙️ 配置与自定义

### 游戏参数

- 所有参数集中在 `src/config/gameConfig.ts`，可自定义：
  - 棋盘格数、布局
  - 惩罚工具（如手掌、尺子、藤条等，强度1-10）
  - 身体部位（如屁股、手心、大腿等，敏感度1-10）
  - 受罚姿势（如站立、手扶墙、跪趴等）
  - 惩罚次数范围、步长
  - 机关格、奖励格、后退格等数量和分布

### 统计功能

- 配置文件：`src/config/statistics.ts`
- 支持本地统计和 Supabase 云端统计（需配置环境变量）
- 统计内容包括：累计游玩次数、最后游玩时间、会话数据等
- 可在 UI 中查看和重置统计数据

### 版本号与构建时间

- 版本号自动注入，优先使用环境变量、Git Tag、`package.json`
- 构建时间自动显示
- 相关逻辑见 `vite-plugin-version.ts` 和 `src/config/version.ts`

---

## 📊 统计与分析

- 游戏内置统计弹窗（点击界面按钮可查看）
- 支持本地和云端（Supabase）两种统计模式
- 统计内容包括：
  - 累计游玩次数
  - 最后游玩时间
  - 记录起始时间
  - 惩罚组合分布（工具/部位/姿势统计）
- 可一键重置统计数据

---

## 🛠️ 安装与运行

```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build

# 使用 Git Tag 构建（推荐生产环境）
npm run build:tag

# 预览生产版本
npm run preview
```

---

## 🚀 部署

- **GitHub Pages**：支持自动/手动部署，详见 `deploy.sh` 和 `.github/workflows/deploy.yml`
- **Vercel/Netlify**：直接连接仓库，构建命令 `npm run build`，输出目录 `dist`
- **自定义服务器**：将 `dist` 目录部署到任意静态服务器

---

## 🏷️ 版本管理

- 右上角显示当前版本号和构建时间
- 开发环境显示 `dev`，生产环境显示实际版本号（如 `v1.2.3`）
- 支持通过 Git Tag 自动注入版本号

---

## 📱 移动端支持

- 响应式布局，适配手机、平板、PC
- 触摸优化，移动端体验良好

---

## 🧩 技术栈

- **前端框架**：Vue 3 + TypeScript
- **构建工具**：Vite
- **UI/动画**：CSS3 + 3D 变换
- **统计后端**：可选 Supabase
- **PWA 支持**：可安装为桌面/移动应用

---

## 📚 相关文档

- 游戏参数与惩罚机制详见 `src/config/gameConfig.ts`
- 统计功能配置详见 `src/config/statistics.ts`
- 版本号注入逻辑见 `vite-plugin-version.ts`
- 详细开发路线、更新日志请见 [ROADMAP.md] 和 [RELEASE_NOTES.md]（如有）

---

## 📄 许可证

MIT License

---

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 改进本项目！

---

享受游戏，健康娱乐！🎲✨

---

如需英文版或更详细的开发文档，请联系维护者。
